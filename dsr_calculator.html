<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤íŠ¸ë ˆìŠ¤ DSR 3ë‹¨ê³„ ëŒ€ì¶œê³„ì‚°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }

        .input-section {
            padding: 40px;
            background: #f8f9fa;
        }

        .result-section {
            padding: 40px;
            background: white;
        }

        .section-title {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .result-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .result-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .result-card .amount {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .detail-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .detail-card h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e1e5e9;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-row span:first-child {
            color: #666;
        }

        .detail-row span:last-child {
            font-weight: 600;
            color: #333;
        }

        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #ffc107;
        }

        .info-box {
            background: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #17a2b8;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .input-section, .result-section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ  ìŠ¤íŠ¸ë ˆìŠ¤ DSR 3ë‹¨ê³„ ëŒ€ì¶œê³„ì‚°ê¸°</h1>
            <p>2025ë…„ 7ì›” 1ì¼ ì‹œí–‰ | ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬ 1.5%p ì „ë©´ ì ìš©</p>
        </div>

        <div class="main-content">
            <div class="input-section">
                <h2 class="section-title">ğŸ“Š ê¸°ë³¸ ì •ë³´ ì…ë ¥</h2>
                
                <div class="form-group">
                    <label for="income">ì—°ì†Œë“ (ì„¸ì „, ë§Œì›)</label>
                    <input type="number" id="income" placeholder="ì˜ˆ: 5000" min="0">
                </div>

                <div class="form-group">
                    <label for="region">ì£¼íƒ ì†Œì¬ì§€</label>
                    <select id="region">
                        <option value="metropolitan">ìˆ˜ë„ê¶Œ (ì„œìš¸/ì¸ì²œ/ê²½ê¸°)</option>
                        <option value="non-metropolitan">ë¹„ìˆ˜ë„ê¶Œ (ì§€ë°©)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="financial-sector">ê¸ˆìœµê¸°ê´€ êµ¬ë¶„</label>
                    <select id="financial-sector">
                        <option value="1st">1ê¸ˆìœµê¶Œ (ì€í–‰)</option>
                        <option value="2nd">2ê¸ˆìœµê¶Œ (ì €ì¶•ì€í–‰/ìƒí˜¸ê¸ˆìœµ ë“±)</option>
                    </select>
                </div>

                <h3 style="margin: 30px 0 20px 0; color: #333;">ê¸°ì¡´ ëŒ€ì¶œ í˜„í™©</h3>

                <div class="form-group">
                    <label for="existing-mortgage">ê¸°ì¡´ ì£¼íƒë‹´ë³´ëŒ€ì¶œ (ë§Œì›)</label>
                    <input type="number" id="existing-mortgage" placeholder="0" min="0">
                </div>

                <div class="form-group">
                    <label for="existing-credit">ê¸°ì¡´ ì‹ ìš©ëŒ€ì¶œ (ë§Œì›)</label>
                    <input type="number" id="existing-credit" placeholder="0" min="0">
                </div>

                <div class="form-group">
                    <label for="existing-card">ê¸°ì¡´ ì¹´ë“œë¡ /í˜„ê¸ˆì„œë¹„ìŠ¤ (ë§Œì›)</label>
                    <input type="number" id="existing-card" placeholder="0" min="0">
                </div>

                <div class="form-group">
                    <label for="existing-other">ê¸°ì¡´ ê¸°íƒ€ëŒ€ì¶œ (ë§Œì›)</label>
                    <input type="number" id="existing-other" placeholder="0" min="0">
                </div>

                <h3 style="margin: 30px 0 20px 0; color: #333;">ëŒ€ì¶œ ì¡°ê±´</h3>

                <div class="form-group">
                    <label for="interest-rate">ê¸°ì¤€ ê¸ˆë¦¬ (%)</label>
                    <input type="number" id="interest-rate" placeholder="4.5" step="0.1" min="0">
                </div>

                <div class="form-group">
                    <label for="loan-term">ëŒ€ì¶œ ê¸°ê°„ (ë…„)</label>
                    <input type="number" id="loan-term" placeholder="30" min="1" max="50">
                </div>

                <div class="form-group checkbox-group">
                    <input type="checkbox" id="policy-loan">
                    <label for="policy-loan">ì •ì±…ëª¨ê¸°ì§€ ì´ìš© (ë³´ê¸ˆìë¦¬ë¡ /ë””ë”¤ëŒ ë“±)</label>
                </div>

                <button class="calculate-btn" onclick="calculateLoan()">ğŸ’° ëŒ€ì¶œí•œë„ ê³„ì‚°í•˜ê¸°</button>
            </div>

            <div class="result-section">
                <h2 class="section-title">ğŸ“ˆ ê³„ì‚° ê²°ê³¼</h2>

                <div class="info-box">
                    <strong>ìŠ¤íŠ¸ë ˆìŠ¤ DSR 3ë‹¨ê³„ ì£¼ìš” ë³€ê²½ì‚¬í•­:</strong><br>
                    â€¢ ì¹´ë“œë¡ /í˜„ê¸ˆì„œë¹„ìŠ¤ ì‹ ê·œ í¬í•¨<br>
                    â€¢ ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬ 1.5%p ì „ë©´ ì ìš©<br>
                    â€¢ 2ê¸ˆìœµê¶Œê¹Œì§€ ì „ë©´ í™•ëŒ€
                </div>

                <div id="results" style="display: none;">
                    <div class="result-card">
                        <h3>ìµœëŒ€ ëŒ€ì¶œ ê°€ëŠ¥ ê¸ˆì•¡</h3>
                        <div class="amount" id="max-loan">0ì›</div>
                        <small>ìŠ¤íŠ¸ë ˆìŠ¤ DSR ì ìš© ê¸°ì¤€</small>
                    </div>

                    <div class="detail-card">
                        <h4>ğŸ“Š DSR ìƒì„¸ ë‚´ì—­</h4>
                        <div class="detail-row">
                            <span>ì—°ì†Œë“ (ì„¸ì „)</span>
                            <span id="detail-income">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ì›”ì†Œë“ (ì„¸ì „)</span>
                            <span id="detail-monthly-income">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ì ìš© DSR í•œë„</span>
                            <span id="detail-dsr-limit">40%</span>
                        </div>
                        <div class="detail-row">
                            <span>ì›” ìƒí™˜í•œë„</span>
                            <span id="detail-monthly-limit">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ê¸°ì¡´ ëŒ€ì¶œ ì›”ìƒí™˜ì•¡</span>
                            <span id="detail-existing-payment">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ì‹ ê·œ ëŒ€ì¶œ ê°€ëŠ¥ ì›”ìƒí™˜ì•¡</span>
                            <span id="detail-new-payment">0ë§Œì›</span>
                        </div>
                    </div>

                    <div class="detail-card">
                        <h4>ğŸ’° ì„¸í›„ ì†Œë“ ë° ê°€ì²˜ë¶„ ì†Œë“</h4>
                        <div class="detail-row">
                            <span>ì›”ì†Œë“ (ì„¸í›„ ì¶”ì •)</span>
                            <span id="after-tax-income">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ì´ ì›”ìƒí™˜ì•¡</span>
                            <span id="total-monthly-payment">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ì‹¤ì œ ê°€ì²˜ë¶„ ì†Œë“</span>
                            <span id="disposable-income">0ë§Œì›</span>
                        </div>
                        <div class="detail-row">
                            <span>ê°€ì²˜ë¶„ì†Œë“/ì„¸í›„ì†Œë“ ë¹„ìœ¨</span>
                            <span id="disposable-ratio">0%</span>
                        </div>
                    </div>

                    <div class="detail-card">
                        <h4>ğŸ”§ ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬ ì ìš© ë‚´ì—­</h4>
                        <div class="detail-row">
                            <span>ê¸°ì¤€ ê¸ˆë¦¬</span>
                            <span id="base-rate">0%</span>
                        </div>
                        <div class="detail-row">
                            <span>ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬</span>
                            <span id="stress-rate">0%</span>
                        </div>
                        <div class="detail-row">
                            <span>ì ìš© ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬</span>
                            <span id="applied-stress">1.5%p</span>
                        </div>
                    </div>

                    <div id="warning-section"></div>
                </div>

                <div id="no-results">
                    <div style="text-align: center; padding: 40px; color: #999;">
                        <h3>ê³„ì‚° ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</h3>
                        <p>ì¢Œì¸¡ì— ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  ê³„ì‚° ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculateLoan() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const income = parseFloat(document.getElementById('income').value) || 0;
            const region = document.getElementById('region').value;
            const financialSector = document.getElementById('financial-sector').value;
            const existingMortgage = parseFloat(document.getElementById('existing-mortgage').value) || 0;
            const existingCredit = parseFloat(document.getElementById('existing-credit').value) || 0;
            const existingCard = parseFloat(document.getElementById('existing-card').value) || 0;
            const existingOther = parseFloat(document.getElementById('existing-other').value) || 0;
            const interestRate = parseFloat(document.getElementById('interest-rate').value) || 4.5;
            const loanTerm = parseFloat(document.getElementById('loan-term').value) || 30;
            const isPolicyLoan = document.getElementById('policy-loan').checked;

            if (income <= 0) {
                alert('ì—°ì†Œë“ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // DSR í•œë„ ì„¤ì •
            const dsrLimit = financialSector === '1st' ? 0.40 : 0.50;

            // ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬ ì„¤ì •
            let stressRate;
            if (region === 'metropolitan') {
                stressRate = 1.5; // ìˆ˜ë„ê¶Œ 1.5%p
            } else {
                stressRate = 0.75; // ë¹„ìˆ˜ë„ê¶Œ 0.75%p (12ì›” 31ì¼ê¹Œì§€)
            }

            // ì›”ì†Œë“ ê³„ì‚°
            const monthlyIncome = income / 12;

            // ì›” ìƒí™˜í•œë„ ê³„ì‚°
            const monthlyLimit = monthlyIncome * dsrLimit;

            // ê¸°ì¡´ ëŒ€ì¶œ ì›”ìƒí™˜ì•¡ ê³„ì‚°
            const existingMortgagePayment = existingMortgage > 0 ? calculateMonthlyPayment(existingMortgage * 10000, interestRate + stressRate, loanTerm) : 0;
            
            // ì‹ ìš©ëŒ€ì¶œì€ 1ì–µ ì´ˆê³¼ë¶„ì—ë§Œ ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬ ì ìš©
            let existingCreditPayment = 0;
            if (existingCredit > 0) {
                if (existingCredit <= 1000) { // 1ì–µ ì´í•˜
                    existingCreditPayment = calculateMonthlyPayment(existingCredit * 10000, interestRate, 5);
                } else { // 1ì–µ ì´ˆê³¼
                    const under100M = 1000;
                    const over100M = existingCredit - 1000;
                    existingCreditPayment = calculateMonthlyPayment(under100M * 10000, interestRate, 5) + 
                                          calculateMonthlyPayment(over100M * 10000, interestRate + stressRate, 5);
                }
            }

            const existingCardPayment = existingCard > 0 ? calculateMonthlyPayment(existingCard * 10000, interestRate + stressRate, 3) : 0;
            const existingOtherPayment = existingOther > 0 ? calculateMonthlyPayment(existingOther * 10000, interestRate + stressRate, 5) : 0;

            const totalExistingPayment = existingMortgagePayment + existingCreditPayment + existingCardPayment + existingOtherPayment;

            // ì‹ ê·œ ëŒ€ì¶œ ê°€ëŠ¥ ì›”ìƒí™˜ì•¡
            const newPaymentCapacity = Math.max(0, monthlyLimit - totalExistingPayment);

            // ì‹ ê·œ ëŒ€ì¶œ ê°€ëŠ¥ ê¸ˆì•¡ ê³„ì‚°
            const appliedRate = isPolicyLoan ? interestRate : interestRate + stressRate;
            const maxLoanAmount = newPaymentCapacity > 0 ? 
                calculateLoanAmount(newPaymentCapacity, appliedRate, loanTerm) : 0;

            // ì„¸í›„ ì†Œë“ ì¶”ì • (ê°„ì´ì„¸ì•¡í‘œ ê¸°ì¤€)
            const afterTaxIncome = calculateAfterTaxIncome(income);
            const monthlyAfterTaxIncome = afterTaxIncome / 12;

            // ì´ ì›”ìƒí™˜ì•¡ (ì‹¤ì œ ê¸ˆë¦¬ ê¸°ì¤€)
            const actualMortgagePayment = existingMortgage > 0 ? calculateMonthlyPayment(existingMortgage * 10000, interestRate, loanTerm) : 0;
            const actualCreditPayment = existingCredit > 0 ? calculateMonthlyPayment(existingCredit * 10000, interestRate, 5) : 0;
            const actualCardPayment = existingCard > 0 ? calculateMonthlyPayment(existingCard * 10000, interestRate, 3) : 0;
            const actualOtherPayment = existingOther > 0 ? calculateMonthlyPayment(existingOther * 10000, interestRate, 5) : 0;
            const actualNewPayment = maxLoanAmount > 0 ? calculateMonthlyPayment(maxLoanAmount, interestRate, loanTerm) : 0;

            const totalActualPayment = actualMortgagePayment + actualCreditPayment + actualCardPayment + actualOtherPayment + actualNewPayment;

            // ê°€ì²˜ë¶„ ì†Œë“
            const disposableIncome = monthlyAfterTaxIncome - totalActualPayment;
            const disposableRatio = monthlyAfterTaxIncome > 0 ? (disposableIncome / monthlyAfterTaxIncome * 100) : 0;

            // ê²°ê³¼ í‘œì‹œ
            displayResults({
                maxLoan: maxLoanAmount,
                income: income,
                monthlyIncome: monthlyIncome,
                dsrLimit: dsrLimit,
                monthlyLimit: monthlyLimit,
                totalExistingPayment: totalExistingPayment,
                newPaymentCapacity: newPaymentCapacity,
                afterTaxIncome: monthlyAfterTaxIncome,
                totalActualPayment: totalActualPayment,
                disposableIncome: disposableIncome,
                disposableRatio: disposableRatio,
                baseRate: interestRate,
                stressRate: stressRate,
                appliedRate: appliedRate,
                region: region,
                financialSector: financialSector,
                isPolicyLoan: isPolicyLoan
            });
        }

        function calculateMonthlyPayment(principal, annualRate, years) {
            const monthlyRate = annualRate / 100 / 12;
            const numPayments = years * 12;
            
            if (monthlyRate === 0) {
                return principal / numPayments;
            }
            
            const monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / 
                                 (Math.pow(1 + monthlyRate, numPayments) - 1);
            
            return monthlyPayment / 10000; // ë§Œì› ë‹¨ìœ„ë¡œ ë³€í™˜
        }

        function calculateLoanAmount(monthlyPayment, annualRate, years) {
            const monthlyRate = annualRate / 100 / 12;
            const numPayments = years * 12;
            
            if (monthlyRate === 0) {
                return monthlyPayment * numPayments * 10000;
            }
            
            const loanAmount = (monthlyPayment * 10000) * (Math.pow(1 + monthlyRate, numPayments) - 1) / 
                             (monthlyRate * Math.pow(1 + monthlyRate, numPayments));
            
            return loanAmount;
        }

        function calculateAfterTaxIncome(annualIncome) {
            // ê°„ì´ì„¸ì•¡í‘œ ê¸°ì¤€ ì„¸í›„ì†Œë“ ì¶”ì • (ê·¼ì‚¬ì¹˜)
            let taxRate;
            if (annualIncome <= 1200) taxRate = 0.06;
            else if (annualIncome <= 4600) taxRate = 0.15;
            else if (annualIncome <= 8800) taxRate = 0.24;
            else if (annualIncome <= 15000) taxRate = 0.35;
            else if (annualIncome <= 30000) taxRate = 0.38;
            else if (annualIncome <= 50000) taxRate = 0.40;
            else taxRate = 0.42;

            // êµ­ë¯¼ì—°ê¸ˆ, ê±´ê°•ë³´í—˜, ê³ ìš©ë³´í—˜ ë“± ì‚¬íšŒë³´í—˜ë£Œ ì•½ 9% ì¶”ê°€ ì°¨ê°
            const totalDeductionRate = taxRate + 0.09;
            return annualIncome * (1 - totalDeductionRate);
        }

        function displayResults(data) {
            document.getElementById('results').style.display = 'block';
            document.getElementById('no-results').style.display = 'none';

            // ëŒ€ì¶œí•œë„ í‘œì‹œ
            document.getElementById('max-loan').textContent = formatNumber(Math.round(data.maxLoan)) + 'ì›';

            // ìƒì„¸ ë‚´ì—­ í‘œì‹œ
            document.getElementById('detail-income').textContent = formatNumber(data.income) + 'ë§Œì›';
            document.getElementById('detail-monthly-income').textContent = formatNumber(Math.round(data.monthlyIncome)) + 'ë§Œì›';
            document.getElementById('detail-dsr-limit').textContent = (data.dsrLimit * 100) + '%';
            document.getElementById('detail-monthly-limit').textContent = formatNumber(Math.round(data.monthlyLimit)) + 'ë§Œì›';
            document.getElementById('detail-existing-payment').textContent = formatNumber(Math.round(data.totalExistingPayment)) + 'ë§Œì›';
            document.getElementById('detail-new-payment').textContent = formatNumber(Math.round(data.newPaymentCapacity)) + 'ë§Œì›';

            // ì„¸í›„ ì†Œë“ ì •ë³´
            document.getElementById('after-tax-income').textContent = formatNumber(Math.round(data.afterTaxIncome)) + 'ë§Œì›';
            document.getElementById('total-monthly-payment').textContent = formatNumber(Math.round(data.totalActualPayment)) + 'ë§Œì›';
            document.getElementById('disposable-income').textContent = formatNumber(Math.round(data.disposableIncome)) + 'ë§Œì›';
            document.getElementById('disposable-ratio').textContent = Math.round(data.disposableRatio) + '%';

            // ê¸ˆë¦¬ ì •ë³´
            document.getElementById('base-rate').textContent = data.baseRate + '%';
            document.getElementById('stress-rate').textContent = (data.baseRate + data.stressRate) + '%';
            
            // ê²½ê³  ë©”ì‹œì§€
            const warningSection = document.getElementById('warning-section');
            warningSection.innerHTML = '';

            if (data.disposableIncome < 0) {
                warningSection.innerHTML += `
                    <div class="warning">
                        <strong>âš ï¸ ì£¼ì˜:</strong> ê°€ì²˜ë¶„ ì†Œë“ì´ ìŒìˆ˜ì…ë‹ˆë‹¤. ì‹¤ì œ ëŒ€ì¶œ ì‹¤í–‰ ì‹œ ìƒí™œë¹„ë¥¼ ê³ ë ¤í•œ ì¶”ê°€ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                `;
            }

            if (data.disposableRatio < 30) {
                warningSection.innerHTML += `
                    <div class="warning">
                        <strong>âš ï¸ ì£¼ì˜:</strong> ê°€ì²˜ë¶„ ì†Œë“ ë¹„ìœ¨ì´ ${Math.round(data.disposableRatio)}%ë¡œ ë‚®ìŠµë‹ˆë‹¤. 
                        ì¼ë°˜ì ìœ¼ë¡œ 30% ì´ìƒ ìœ ì§€ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
                    </div>
                `;
            }

            if (data.region === 'non-metropolitan') {
                warningSection.innerHTML += `
                    <div class="info-box">
                        <strong>ğŸ“… ì•ˆë‚´:</strong> ë¹„ìˆ˜ë„ê¶Œ ì£¼íƒì€ 2025ë…„ 12ì›” 31ì¼ê¹Œì§€ ìŠ¤íŠ¸ë ˆìŠ¤ ê¸ˆë¦¬ 0.75%pê°€ ì ìš©ë©ë‹ˆë‹¤. 
                        2026ë…„ 1ì›” 1ì¼ë¶€í„°ëŠ” 1.5%pë¡œ ìƒí–¥ ì¡°ì •ë©ë‹ˆë‹¤.
                    </div>
                `;
            }

            if (data.isPolicyLoan) {
                warningSection.innerHTML += `
                    <div class="info-box">
                        <strong>ğŸ›ï¸ ì•ˆë‚´:</strong> ì •ì±…ëª¨ê¸°ì§€ëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ DSR ê³„ì‚°ì—ì„œ ì œì™¸ë©ë‹ˆë‹¤. 
                        ë³´ê¸ˆìë¦¬ë¡ , ë””ë”¤ëŒëŒ€ì¶œ ë“±ì„ ì ê·¹ í™œìš©í•´ë³´ì„¸ìš”.
                    </div>
                `;
            }
        }

        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        // ì´ˆê¸° ë¡œë“œ ì‹œ ê¸°ë³¸ê°’ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('interest-rate').value = '4.5';
            document.getElementById('loan-term').value = '30';
        });
    </script>
</body>
</html>